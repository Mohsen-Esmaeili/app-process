<template>
  <ux-dialog>
    <ux-dialog-header>
      <div class="d-flex flex-row justify-content-between">
        <h5>Manage User's Assets</h5>
        <i class="ion-close" style="cursor: pointer;" click.trigger="controller.cancel()"></i>
      </div>
    </ux-dialog-header>
    <ux-dialog-body class="px-0">
      <div class="d-flex flex-row justify-content-between px-2">
        <div class="form-group w-100">
          <select value.bind="selectedAssetId" class="form-control">
            <option model.bind="null">Choose Asset...</option>
            <option repeat.for="asset of allAssets" model.bind="asset.id">
              ${asset.name} - ${asset.symbol}
            </option>
          </select>
        </div>
        <button class="btn btn-primary float-right" click.trigger="onAdd()"
          disabled.bind="!selectedAssetId">Add</button>
      </div>
      <div class="table-responsive p-2">
        <table class="table table-striped table-hover table-success">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Name</th>
              <th scope="col">Symbol</th>
              <th style="width: 1px;"></th>
            </tr>
          </thead>
          <tbody>
            <tr repeat.for="userAsset of userAssets">
              <th scope="row">${$index + 1}</th>
              <td>${userAsset.assetName}</td>
              <td>${userAsset.assetSymbol}</td>
              <td>
                <button class="btn btn-sm btn-danger mx-1" click.trigger="onDelete(userAsset.id)">
                  <i class="ion-close"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </ux-dialog-body>

    <ux-dialog-footer>
      <button click.trigger="controller.cancel()">Cancel</button>
    </ux-dialog-footer>
  </ux-dialog>
</template>
